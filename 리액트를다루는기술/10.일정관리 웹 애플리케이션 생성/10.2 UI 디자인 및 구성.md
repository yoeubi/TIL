# 10.2 UI 디자인 및 구성

프로젝트를 개발할 때는 보통 디자인을 먼저 구현하고, 그 다음 상태를 연동합니다.

# 10.2.1 컴포넌트 계획

# 10.2.1.1 PageTemplate

PageTemplate 컴포넌트는 유저 인터페이스의 전체적인 틀을 설정합니다. 흰색 배경에 그림자를 띄우고 내부에 일정 관리하는 타이틀을 보여 주머, 타이틀 아래쪽에 children 값으로 그 내부에 들어갈 컴포넌트들을 넣어줍니다.

# 10.2.1.2 TodoInput

TodoInput 컴포넌트는 일정을 추가할 때 사용하는 input 컴포넌트입니다. 버튼이 내부에 내장되어 있습니다.

# 10.2.1.3 TodoItem

TodoItem 컴포넌트는 각 일정을 렌더링합니다. 클릭하면 체크되면서 줄을 긋습니다. 지우기 버튼을 누르면 일정을 화면에서 제거합니다.

# 10.2.1.4 TodoList

TodoList 컴포넌트는 일정 데이터가 담긴 배열을 TodoItem 컴포넌트로 구성된 배열로 변환해서 렌더링하는 컴포넌트입니다.

# 10.2.2 PageTemplate 컴포넌트 생성

src/components 디렉토리에 PageTemplate 디렉토리를 만들고 내부에 PageTemplate.js 파일을 생성합니다.

```js
// src/components/PageTemplate/PageTemplate.js
import React , {Component} from 'react';
import styles from './PageTemplate.scss';
import classNames from 'classnames/bind';

const cx = classNames.bind(styles);

const PageTemplate = ({children}) => {
    return (
        <div className={cx('page-template')}>
            <h1>일정 관리</h1>
            <div className={cx('content')}>
                {children}
            </div>
        </div>
    )
}
export default PageTemplate;
```

```css
/* src/components/PageTemplate/PageTemplate.scss */
.page-template {
    margin-top : 5rem;
    margin-left : auto;
    margin-right : auto;
    width : 500px;
    background : white;
    box-shadow : 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0, 0.23);
    padding-top : 2rem;

    @media(max-width:768px){
        margin-top:1rem;
        width: calc(100% - 2rem);
    }
    h1 {
        text-align : center;
        font-size : 4rem;
        font-weight : 300;
        margin : 0;
    }
    .content {
        margin-top :2rem;
    }
}
```

src/component/PageTemplate/index.js 를 만듭니다. App 컴포넌트에서 PageTemplate 컴포넌트를 불러올때 ./PageTemplate/PageTemplate 가 아닌 ./components/PageTemplate 라고 입력하기 위해 만듭니다.

```js
// src/components/PageTemplate/index.js
export {default} from './PageTemplate';
```

```js
// src/components/App.js
import React , {Component} from 'react';
import PageTemplate from './PageTemplate';
class App extends Component {
    render(){
        return (
            <PageTemplate>안녕하세요</PageTemplate>
        )
    }
}
export default App;
```

# 10.2.3 TodoInput 컴포넌트 생성

```js
// src/components/TodoInput/TodoInput.js
import React from 'react';
import styles from './TodoInput.scss';
import classNames from 'classnames/bind';

const cx = classNames.bind(styles);

const TodoInput = ({value , onChange, onInsert}) => {
    const handleKeyPress = e => {
        if(e.key === 'Enter'){
            onInsert();
        }
    }
    return (
        <div className={cx('todo-input')}>
            <input onChange={onChange} value={value} onKeyPress={handleKeyPress}/>
            <div className={cx('add-button')} onClick={onInsert}>추가</div>
        </div>
    )
}
export default TodoInput;
```

이 컴포넌트는 props를 세 개 받습니다. value는 input 값으로 설정됩니다. onChange는 input내용이 수정될 때 사용하는 이벤트고, onInsert는 추가 버튼을 눌렀을때 실행하는 이벤트입니다.

onChange와 value 값은 input의 props로 설정하고, onInsert는 추가 버튼의 onClick 이벤트로 설정했습니다. Enter를 누를 때도 추가 버튼을 누른것과 동일한 효과를 주겠습니다.

내부에 handleKeyPress 메서드를 만들어 이를 input의 onKeyPress 이벤트로 설정합니다. 

```css
/* src/components/TodoInput/TodoInput.scss */
@import 'utils';

.todo-input {
    border-top: 1px solid $oc-gray-2;
    border-bottom : 1px solid $oc-gray-2;

    display: flex;
    padding : 1rem;
    input {
        flex : 1;
        font-size : 1.1rem;
        outline : none;
        border : none;
        background: transparent;
        border-bottom : 1px solid $oc-gray-4;
        &:focus {
            border-bottom : 1px solid $oc-cyan-6;
        }
    }
    .add-button {
        width : 5rem;
        height : 2rem;
        margin-left: 1rem;
        border: 1px solid $oc-green-7;
        color : $oc-green-7;
        font-weight : 500;
        font-size : 1.1rem;
        display : flex;
        align-items : center;
        justify-content : center;
        cursor: pointer;
        &:hover {
            background: $oc-green-7;
            color : white;
        }
        &:active {
            background: $oc-green-8;
        }
    }
}
```

```js
// src/components/TodoInput/index.js
export {default} from './TodoInput';
```

```js
// src/components/App.js
import React , {Component} from 'react';
import PageTemplate from './PageTemplate';
import TodoInput from './TodoInput';

class App extends Component {
    render(){
        return (
            <PageTemplate>
                <TodoInput/>
            </PageTemplate>
        )
    }
}
export default App;
```

# 10.2.4 TodoItem 컴포넌트 생성

TodoItem 컴포넌트는 다음 값들을 props로 받아 옵니다. done, children, onToggle , onRemove.

done 값은 해당 일정을 완료했는지 안했는지 여부를 가리키고, children 값은 일정 정보를 나타냅니다.

onToggle은 일정 완료 상태를 꼈다 켰다 하는 함수고 onRemove는 해당 일정을 제거하는 함수입니다.

```js
// src/components/TodoItem/TodoItem.js
import React , {Component} from 'react';
import styles from './TodoItem.scss';
import classNames from 'classnames/bind';

const cx = classNames.bind(styles);

class TodoItem extends Component {
    render(){
        const {done , children, onToggle, onRemove } =this.props;
        return (
            <div className={cx('todo-item')} onClick={onToggle}>
                <input className={cx('tick')} type="checkbox" checked={done} readOnly/>
                <div className={cx('text', {done})}>{children}</div>
                <div className={cx('delete')} onClick={onRemove}>[지우기]</div>
            </div>
        )
    }
}
export default TodoItem;
```

props를 사용하는 과정에서 비구조화 할당문 법으로 props 안에 있는 값들의 레퍼런스를 만들어주었습니다. 이렇게 하면 props를 사용할 때마다 this.props를 생략할 수 있습니다.

readOnly props를 넣었습니다. props를 설정할 때 = 표시가 생략되어 있으면 = {true}와 동일합니다.

readOnly 값이 활성화 된 이유는 체크를 활성화 비활성화는 input의 이벤트로 관리하는 것이 아니라, 상위 요소인 div 요소의 클릭 이벤트로 관리할 것이기 때문입니다. 

input 아래쪽 div 요소에는 조건부 className이 설정되어 있습니다. done 값이 참이라면 해당 요소에 done 클래스를 적용하는데 추후 스타일링할때 text 클래스와 done 클래스가 함께 있으면 중간 선을 긋도록 작성할 것입니다.

제거하는 div 요소에는 클릭했을 때 onRemove를 호출하도록 설정했습니다. 여기에서 주의할 점이 있습니다. 상위 요소에도 onClick이 있고, 하위 요소에도 onClick이 있으면 자식에서 부모 순으로 함수가 실행되기 때문에 원하는 결과가 나타나지 않을 수 있습니다.

```css
/* src/components/TodoItem/TodoItem.scss */
@import 'utils';

.todo-item {
    padding: 1rem;
    display : flex;
    align-items: center;
    cursor : pointer;
    .tick {
        margin-right : 1rem;
    }
    .text {
        flex : 1;
        word-break: break-all;
        &.done {
            text-decoration : line-through;
        }
    }
    .delete {
        margin-left : 1rem;
        color : $oc-red-7;
        font-size : 0.8rem;
        &:hover {
            color : $oc-red-5;
            text-decoration: line-through;
        }
    }
    &:nth-child(odd){
        background : $oc-gray-0;
    }
    &:hover {
        background : $oc-gray-1;
    }
}
.todo-item + .todo-item {
    border-top: 1px solid $oc-gray-1;
}
```

```js
// src/components/TodoItem/index.js
export {default} from './TodoItem';
```

# 10.2.5 TodoList 컴포넌트 생성

TodoList 컴포넌트는 데이터 배열을 컴포넌트 배열로 변환하여 렌더링 하는 역활만 합니다. 

```js
// src/components/TodoList/TodoList.js
import React , {Copmponent} from 'react';
import TodoItem from './TodoItem';

class TodoList extends Component {
    render(){
        return (
            <div>
                <TodoItem done>리액트 공부하기</TodoItem>
                <TodoItem>컴포넌트 스타일링 해보기</TodoItem>
            </div>
        )
    }
}
export default TodoList;
```

```js
// src/components/TodoList/index.js
export {default} from './TodoList';
```

```js
// src/components/App.js
import React , {Component} from 'react';
import PageTemplate from './PageTemplate';
import TodoInput from './TodoInput';
import TodoList from './TodoList';

class App extends Component {
    render(){
        return (
            <PageTemplate>
                <TodoInput/>
                <TodoList/>
            </PageTemplate>
        )
    }
}
export default App;
```