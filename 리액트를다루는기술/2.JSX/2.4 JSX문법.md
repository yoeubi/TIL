# 2.4 JSX 문법

# 2.4.1 감싸인 요소

컴포넌트에 여러 요소가 있다면 부모 요소 하나로 꼭 감싸야 합니다.

```js
// src/index.js
import React , { Component } from 'react';

class App extends Component {
    render(){
        <h1>리액트 안녕</h1>
        <h2>당신은 어썸한가요?</h2>
    }
}
```

이렇게 작성하면 제대로 렌더링하지 않습니다. 

요소 여러 개가 부모 요소 하나를 갖고 있지 않아서 오류가 발생하는데 다음과 같이 코드를 작성하여 해결 할 수 있습니다.

```js
render(){
    return (
        <div>
            <h1>리액트 안녕</h1>
            <h2>당신은 어썸한가요?</h2>
        </div>
    )
}
```

왜 꼭 부모 요소로 감싸야 할까요? 그것은 Virtual DOM에서 컴포넌트 변화를 감지해 낼때 효율적으로 비교할 수 있도록 컴포넌트 내부에 DOM 트리 구조하나여야 한다는 규칙이 있기 때문입니다.

# 2.4.1.1 Fragment

리액트 v16 이상에서는 Fragment 컴포넌트가 도입되었습니다. div 같은 것으로 감싸지 않고 여러 요소를 렌더링하고 싶다면 리액트를 불러올때 Component 와 함께 Fragment 를 불러와서 다음과 같이 사용하면 됩니다.

```js
// src/App.js
import React , {Component , Fragment} from 'react';

class App extends Component {
    render(){
        return (
            <Fragment>
                <h1>리액트 안녕</h1>
                <h2>당신은 어썸한가요?</h2>
            </Fragment>
        )
    }
}
```

# 2.4.2 자바스크립트 표현

JSX 안에서는 자바스크립트 표현식을 쓸 수 있습니다. 자바스크립트 표현식을 작성하려면 JSX 내부에서 코드를 {}로 감싸면 됩니다. 

```js
// src/App.js
import React , { Component } from 'react';

class App extends Component {
    render(){
        const text = '당신은 어썸한가요?';
        return (
            <div>
                <h1>리액트 안녕</h1>
                <h2>{text}</h2>
            </div>
        )
    }
}
export default App;
```

## ES6의 const 와 let 

const는 ES6 문법에서 새로 도입한 것으로 한번 지정하고 나면 변경이 불가능한 상수를 선언할때 사용하는 키워드고, let은 동적인 값을 담을수 있는 변수를 선언할 때 사용하는 키워드입니다.

ES6 이전에는 값을 담는 데 var 키워드를 사용했는데요. var 키워드는 scope(해당 값을 사용할 수 있는 코드 영역)가 함수 단위입니다.

```js
function myFunction(){
    var a = 'hello';
    if(true){
        var a = 'bye';
        console.log(a); // bye
    }
    console.log(a) // bye
}
```

if 문 바깥에서 var 값을 hello로 선언하고 if 문 내부에서 bye로 설정했습니다. if 문 내부에서 새로 선언했음에도 if문 밖에서 a를 조회하면 변경된 값이 나타납니다.

이런 결점을 해결해 주는 것이 바로 let 과 const 입니다.

```js
function myFunction(){
    let a = 1;
    if(true){
        let a = 2;
        console.log(a); // 2
    }
    console.log(a) // 1
}
```

let 과 const 는 scope가 함수 단위가 아닌 블록 단위이므로 if문 내부에서 선언한 a 값은 if문 밖의 a 값을 변경하지 않습니다.

let 과 const 를 사용할때 같은 블록 내부에서 중복 선언이 불가능하다는 점에 주의하세요.

```js
let a = 1;
let a = 2; // SyntaxError
```

const 는 한번 선언하면 재설정할 수 없습니다.

```js
const b = 1;
b = 2 // TypeError
```

let 은 한 번 선언한 후 값이 유동적으로 변할 수 있을 때만 사용하고 const는 한번 설정한 후 변할 일이 없는 값에 사용됩니다.

# 2.4.3 if 문 대신 조건부 연산자

JSX 내부의 자바스크립트 표현식에서 if문을 사용 할 수는 없습니다. 하지만 조건에 따라 다른 것을 렌더링해야 할 때는 JSX 밖에서 if문을 사용하여 작업하거나 , {} 안에 조건부 (삼항) 연산자를 사용하면 됩니다.

```js
// src/App.js
import React , {Component} from 'react';

class App extends Component {
    render(){
        const text = '당신은 어썸한가요?';
        const condition = true;

        return (
            <div>
                <h1>리액트 안녕</h1>
                <h2>{text}</h2>
                {
                    condition ? '참' : '거짓'
                }
            </div>
        )
    }
}

export default App;
```

# 2.4.4 &&를 사용한 조건부 렌더링

특정 조건을 만족할 때와 만족하지 않을 때 , 다른 결과를 보여 주어야 할 때는 삼항 연산자를 쓰는 것이 맞습니다. 하지만 단순히 특정 조건을 만족할때는 보여주고, 만족하지 않을 때는 보여주고 싶지 안하면 다음과 같이 하면 된다.

```js
{ condition ? '보여주세요.' : null }
```

JSX에서는 null 값 외에도 false 값을 렌더링하면 아무것도 나타나지 않습니다. 따라서 이때는 삼항 연산자를 쓰는 대신 다음과 같이 && 연산자로 조건부 렌더링을 할 수 있습니다.

```js
{ condition && '보여주세요.' }
```

# 2.4.5 인라인 스타일링

리액트에서 DOM 요소에 스타일을 적용할때는 문자열 형태로 적용할 수 없습니다. 그 대신 CSS 스타일을 자바스크립트 객체 형식으로 만들어 적용해야 합니다.

해당 객체에서 key는 camelCase로 작성합니다.

```js
// src/App.js
import React , { Component } from 'react';

class App extends Component {
    render(){
        const text = '당신은 어썸한가요?';
        const condition = true;
        const style = {
            backgroundColor : 'gray',
            border : '1px solid black',
            height : Math.round(Math.random() * 300) + 50,
            width : Math.round(Math.random() * 300) + 50,
            WebkitTransition : 'all',
            MozTansition : 'all',
            msTransition : 'all'
        };
        return (
            <div>
                <h1>리액트 안녕</h1>
                <h2>{text}</h2>
                { condition && '보여주세요' }
                <div style={style}></div>
            </div>
        )
    }
}
export default App;
```

자바스크립트의 객체 key에서는 '-'을 사용할 수 없으므로 background-color 는 backgroundColor 로 바꾸어 작성합니다.

'-'가 있을 때는 이처럼 다음 문자를 대문자로 작성하면 됩니다.

웹 브라우저 접두어인 -mos , -webkit을 사용할 때는 마찬가지로 -mos는 Mos  -webkit 은 Webkit으로 바꾸어 사용합니다. 하지만 -ms는 예외로 대문자로 바꾸지 않고 소문자 ms로 작성합니다.

# 2.4.6 class 대신 className

```css
/* src/App.css */
.my-div {
    background-color : aqua;
    font-size : 15px;
}
```

```js
// src/App.js
import React , {Component} from 'react';
import './App.css';

class App extends Component {
    render(){
        ...
        return (
            <div class="my-div">
                <h1>리액트 안녕</h1>
                <h2>{text}</h2>
                { condition && '보여주세요' }
                <div style={style}></div>
            </div>
        )
    }
}
export default App;
```

작성했을 때 스타일이 입려지기는 하지만, 웹 브라우저의 콘솔 창을 확인해 보면 경고 메세지를 표시할 것입니다.

리액트에서 class를 설정할 때는 class 키워드 대신 className 으로 설정해야 합니다. class 키워드는 이미 자바스크립트에 존재하는 키워드이기 때문입니다.

# 2.4.7 꼭 닫아야 하는 태그

HTML 코드를 작성할 때 가끔 태그르 닫지 않을 때도 있습니다. 

```html
<!-- 태그를 닫지 않은 HTML 코드 -->
<form>
    First name : <br>
    <input type="text" name="firstname"/><br>
    Last name : <br>
    <input type="text" name="lastname"/>
</form>
```

이 HTML 코드는 웹 브라우저에서 보일 때 전혀 문제가 없습니다. 하지만 JSX에서 이렇게 작성하면, Virtual DOM에서 트리 형태의 구조를 만들지 못하기 때문에 오류가 발생합니다. JSX에서는 다음과 같이 언제나 코드를 닫아 주어야 합니다.

```jsx
<form>
    First name : <br />
    <input type="text" name="firstname"/><br />
    Last name : <br />
    <input type="text" name="lastname"/>
</form>
```

# 2.4.8 주석

JSX 안에서 주석을 작성하는 방법은 일반 자바스크립트에서 주석을 작성할 때와 조금 다릅니다.

```js
// App.js - render 함수 내부의 return
return (
    <div class="my-div">
        { /* 요소 밖에서는 이렇게 작성해요. */ }
        <h1>리액트 안녕</h1>
        <h2>{text}</h2>
        { condition && '보여주세요' }
        <div style={style}
            // self-closed 태그 안에서만 작동하는 주석
            // 마지막 /> 가 꼭 새 줄 에 있어야 합니다.
            /* 이렇게 작성할 수도 있고요. */
        />
        // 여기서 쓰는 건 그대로 렌더링됩니다.
        /* 여기에선 주석 못 써요. */
    </div>
)
```

일반적으로 주석을 작성할 때는 { /* */ } 마치 자바스크립트 표현식을 사용할 때 처럼 작성합니다. 

일반 자바스크립트에서 주석을 작성할 때 처럼 아무데나 // 이런 주석 이나 /* 이런 주석을 */ 작성한다면 그 주석은 페이지에 고스란히 렌더링됩니다.

하지만 self-closed 요소 에서 /> 를 다음 줄에 작성할 때는 그 사이에서 주석을 {} 없이 작성 할 수 있습니다.

# 정리 

JSX는 HTML과 비슷하지만 완전히 똑같지는 않습니다. 코드를 보면 XML 형식이지만 실제로는 자바스크립트 객체며, 용도도 다르고 문법도 조금씩 차이가 납니다.
