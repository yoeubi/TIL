# 3.2 props

props는 properties를 줄일 표현으로 컴포넌트 속성을 설정할때 사용하는 요소입니다. props 값은 해당 컴포넌트를 불러와 사용하는 부모 컴포넌트에서만 설정할 수 있습니다.

# 3.2.1 JSX 내부에서 props 렌더링

MyComponent.js 파일을 수정하여 해당 컴포넌트에서 name이라는 props를 렌더링하도록 설정해봅니다.

props를 렌더링할 때는 JSX 내부에서 {} 안에 감싸 주면 됩니다.

```js
// MyComponent.js
import React , { Component } from 'react';

class MyComponent extends Component {
    render(){
        return (
            <div>
                안녕하세요, 제 이름을 {this.props.name} 입니다.
            </div>
        )
    }
}
export default MyComponent;
```

props에 접근할 때는 이렇게 this 키워드를 사용하여 접근합니다.

# 3.2.2 컴포넌트 사용할때 props 값 설정

MyComponent 의 name 속성을 설정해봅니다. props 값을 설정하는 방법은 HTML 태그에 속성을 설정하는 것과 비슷합니다.

```js
// App.js
import React , { Component } from 'react';
import MyComponent from './MyComponent'; // MyComponent 파일을 불러옵니다.

class App extends Component {
    render(){
        return (
            <MyComponent name="React" />
        )
    }
}
export default App;
```

# 3.2.3 props 기본 값 설정 : defaultProps

방금 설정한 name 값을 다시 없애고 저장해 보세요.

```js
// App.js 중 MyComponent 사용 부분
(...)
<MyComponent />
(...)
```

현재 name 값을 지정하지 않았기 때문에 웹 브라우저에서는 '안녕하세요 제 이름은 입니다.'라고 출력할 것입니다.

이번에는 지금처럼 props 값을 지정하지 않았을 때 기본 값으로 설정하는 defaultProps를 알아봅니다.

```js
// MyComponent.js
import React , { Component } from 'react';

class MyComponent extends Component {
    ...
}
MyComponent.defaultProps = {
    name : '기본 이름'
}
export default MyComponent;
```

defaultProps를 설정하는 또 다른 방법은 클래스 내부에서 정의하는 것입니다.    

이 방법은 일반적으로 ES6 문법에서는 작동하지 않고, ES6 stage-2에서 소개한 transform-class-properties 문법으로 사용할 수 있습니다.

create-react-app으로 만든 프로젝트는 기본적으로 이 문법을 적용하기 때문에 따로 작업할 것이 없습니다.

```js
// MyComponent.js
import React , { Component } from 'react';

class MyComponent extends Component {
    static defaultProps = {
        name : '기본 이름'
    }
    render(){
        return (
            <div>
                안녕하세요, 제 이름은 {this.props.name} 입니다.
            </div>
        )
    }
}
```

# 3.2.4 props 검증 : propTypes

컴포넌트의 필수 props를 지정하거나 props 타입을 지정할 때는 propTypes를 사용합니다. 컴포넌트의 propTypes를 지정하는 방법은 defaultProps를 설정하는 것과 비슷합니다.

propTypes를 사용하려면 우선 코드 위쪽에 propTypes를 불러와야 합니다.

```js
// MyComponent.js
import React , {Component} from 'prop-types';
import PropTypes from 'prop-types';

class MyComponent extends Component {
    ...
}
MyComponent.propTypes = {
    name : PropTypes.string // name prop 타입을 문자열로 설정합니다.
}
export default MyComponent;
```

class 내부에서 transform-class-properties 문법을 사용하여 설정할 수도 있습니다.

```js
import React , { Component } from 'react';
import PropTypes from 'prop-types';

class MyComponent extends Component {
    static defaultProps = {
        name : '기본 이름'
    }
    static propTypes = {
        name : PropTypes.string // name props 타입을 문자열로 설정합니다.
    }
    render(){
        return (
            <div>
                안녕하세요, 제 이름은 {this.props.name} 입니다.
            </div>
        )
    }
}
export default MyComponent;
```

name props 타입을 문자열로 설정했습니다. App 컴포넌트에서 MyComponent의 name 값으로 문자열이 아닌 숫자를 전달해 보고 개발자 도구를 살펴봅니다.

```js
// App.js 중 MyComponent 사용 부분
<MyComponent name={3} />
```

## 왜 3을 {}로 감쌌나요?

문자열 종류 외의 값을 컴포넌트에 전달할 대는 {}로 감싸야합니다. 그렇지 않으면 오류가 발생합니다.

성공적으로 렌더링했지만 , 콘솔에 오류 메서지를 출력하여 개발자에게 propTypes가 잘못되었다고 알려줍니다.

```js
// App.js 중 MyComponent 사용 부분
<MyComponent name="React" />
```

# 3.2.4.1 필수 propTypes 설정

props를 지정하지 않았을때 오류 창을 띄우도록 설정해 봅시다. propTypes를 설정할 때 뒤에 isRequired를 붙여 주면 됩니다.

이번에는 age라는 숫자 종류의 필수 props 설정해 볼까요?

```js
// MyComponent.js
import React , { Component } from 'react';
import PropTypes from 'prop-types';

class MyComponent extends Component {
    static defaultProps = {
        name : '기본 이름'
    }
    static propTypes = {
        name : PropTypes.string, // name props 타입을 문자열로 설정합니다.
        age : PropTypes.number.isRequired // 필수적으로 존재해야 하며 숫자입니다.
    }
    render(){
        return (
            <div>
                <p>안녕하세요, 제 이름은 {this.props.name} 입니다.</p>
                <p>저는 {this.props.age}살 입니다.</p>
            </div>
        )
    }
}
export default MyComponent;
```

개발자 도구를 다시 확인해보면 아직 age를 설정하지 않았으니 오류 메세지를 출력할 것입니다.

```js
<MyComponent name="React" age={4}>
```

# 3.2.4.2 더 많은 propTypes 종류

propTypes에서 설정할 수 있는 종류는 여러 가지입니다.

- array : 배열
- bool : 참 , 거짓
- func : 함수 , 
- number : 숫자 ,
- object : 객체,
- string : 문자열
- symbol : ES6 문법읠 심벌 객체
- node : 렌더링 할 수 있는 모든 것(숫자 , 문자열 , element 또는 이들로 구성된 배열)
- element : 리액트 요소
- instanceOf(MyClass) : 특정 클래스의 인스턴스
- oneOf(['Male','Female']) : 주어진 배열 요소 중 값 하나
- oneOfType([React.PropTypes.string , React.PropTypes.number]) : 주어진 배열 안의 종류 중 하나
- arrayOf(React.PropTypes.number) : 주어진 종류로 구성된 배열
- objectOf(React.PropTypes.number) : 주어진 종류의 값을 가진 객체
- shape({name : React.PropTypes.string , age : React.PropTypes.number}) : 주어진 스키마를 가진 객체
- any : 아무 종류

이 키워드들은 PropTypes.bool 또는 PropTypes.any.isRequired 같은 방식으로 사용하면 됩니다.

## defaultProps 와 propTypes는 꼭 사용해야 하나요?

이 두 가지 설정은 컴포넌트의 필수 사항은 아닙니다. 다른 개발자랑 협업을 한다면 해당 컴포넌트에 어떤 props가 필요한지 쉽게 알수 있어 개발 능률을 올릴 수 있습니다.

