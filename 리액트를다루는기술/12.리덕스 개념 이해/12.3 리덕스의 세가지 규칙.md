# 12.3 리덕스의 세 가지 규칙

# 12.3.1 스토어는 단 한 개

스토어는 언제나 단 한 개입니다. 스토어를 여러 개 생성해서 상태를 관리하면 안됩니다. 그 대신 리듀서를 여러 개 만들어서 관리할 수 있습니다.

# 12.3.2 state는 읽기 전용

리덕스의 상태 state는 읽기 전용입니다. 이 값은 절대로 직접 수정하면 안됩니다. 그렇게 하면 리덕스의 구독 함수를 제대로 실행하지 않거나 컴포넌트의 리렌더링이 되지 않을 수 있습니다.

상태를 업데이트할때마다 언제나 새 상태 객체를 만들어서 넣어줘야 합니다.

# 12.3.3 변화는 순수 함수로 구성

모든 변화는 순수 함수로 구성해야 합니다. 여기서 함수란 리듀서 함수를 가리킵니다. 순수 함수에서 결과값을 출력할 때는 파라미터 값에만 의존해야 하며 같은 파라미터는 언제나 같은 결과를 출력해야 합니다.

예를 들어 리듀서 함수 내부에서 외부 네트워크와 데이터베이스에 직접 접근하면 안됩니다. 요청이 실패할수도 있고 외부 서버의 반환 값이 변할수 있습니다.

리듀서 함수 내부에서는 현재 날짜를 반환하는 new Date() 함수나 Math.random() 함수 등도 사용해서는 안됩니다.

# 12.4 정리

스토어 상태 정보를 가진 객체를 넣어 두고, 액션이 디스패치되었을 때 리듀서 함수를 이용하여 상태를 변화시키는 것이 주요 역활입니다. 그리고 상태가 변화될 때마다 스토어에 구독된 함수를 실행시킵니다.

