# 9.3 styled-component

컴포넌트 스타일링의 또 다른 패러다임은 자바스크립트 파일 안에 스타일을 선언하는 방식이빈다. 이를 CSS in JS 라고 합니다. 

이 라이브러리 중 개발자에게 가장 많은 사랑을 받는 styled-components 를 알아보겠습니다.

```bash
yarn add styled-components
```

components 디렉토리에 StyledButton.js 파일을 생성합니다.

```js
// src/components/StyledButton.js
import React from 'react';
import styled from 'styled-components';

const Wrapper = styled.div`
    border : 1px solid black;
    display : inline-block;
    padding : 1rem;
    border-radius : 3px;
    &:hover {
        background : black;
        color : white;
    }
`;

const StyledButton = ({children, ...rest}) => {
    return (
        <Wrapper {...rest}>
            {children}
        </Wrapper>
    );
};


export default StyledButton;
```

styled-components를 불러온후 styled를 사용하여 Wrapper 값에 스타일링된 div요소를 만들어 주었습니다.

`styled`...` `은 ES6의 Tagged Template Literals 문법입니다.

```js
function myFunction(...args){
    console.log(args);
}
myFunction`1+1 = ${1+1} and 2+2 = ${2+2}!`;
// [["1+1 = "," and 2+2 = ","!"],2,4]
```

backquote(`) 사이에 ${자바스크립트 표현}이 들어가면 이처럼 끊어서 함수 인자로 전달합니다.

이 문법을 사용하는 이유는 스타일링을 할 때 props에 접근하기 위해서 입니다. 

props 값을 참조해야 할 때는 다음 과 같이 함수를 내부에 입력하게 됩니다.

```js
// src/components/StyledButton.js
import React from 'react';
import styled from 'styled-components';

const Wrapper = styled.div`
    border : 1px solid black;
    display : inline-block;
    padding : 1rem;
    border-radius : 3px;
    font-size : ${(props) => props.fontSize};
    &:hover {
        background : black;
        color : white;
    }
`;

const StyledButton = ({children, ...rest}) => {
    return (
        <Wrapper fontSize="1.25rem" {...rest}>
            {children}
        </Wrapper>
    );
};

export default StyledButton;
```

이 과정에서 Tagged Template Literals 문법을 사용하지 않으면 다음 함수가 문자열 자체로 들어갑니다.

하지만 해당 문법을 사용하면 자바스크립트 표현을 끊어서 처리하기에 함수가 함수 형태 그대로 배열안에 들어갑니다.

이에 styled-components가 끊어진 값들을 참조해서 스타일을 정상적으로 처리 할 수 있습니다.

```js
// src/App.js
import React, { Component } from 'react';
import StyledButton from './components/StyledButton';

class App extends Component {
  render() {
    return (
      <div>
        <StyledButton>버튼</StyledButton>
      </div>
    );
  }
}

export default App;
```

styled-components의 최대 장점은 자바스크립트 내부에서 스타일을 정의하기 때문에 자바스크립트와 스타일 사이의 벽이 허물어저 동적 스타일링이 더욱 편해진다는 것입니다. 

이제 big 이라는 props를 사용하여 버튼 크기를 동적으로 변경하는 코드를 작성하겠습니다.

```js
// src/components/StyledButton.js
import React from 'react';
import styled from 'styled-components';

const Wrapper = styled.div`
    border : 1px solid black;
    display : inline-block;
    padding : 1rem;
    border-radius : 3px;
    font-size : ${(props) => props.fontSize};
    ${props => props.big && `
        font-size : 2rem;
        padding : 2rem;
    `}
    &:hover {
        background : black;
        color : white;
    }
`;

const StyledButton = ({children,big, ...rest}) => {
    return (
        <Wrapper fontSize="1.25rem" {...rest} big={big}>
            {children}
        </Wrapper>
    );
};

export default StyledButton;
```

```js
${props => props.big && `
        font-size : 2rem;
        padding : 2rem;
    `}
```

이 부분이 props를 참조하여 스타일링을 합니다.

```js
// src/App.js
import React, { Component } from 'react';
import StyledButton from './components/StyledButton';

class App extends Component {
  render() {
    return (
      <div>
        <StyledButton big>버튼</StyledButton>
      </div>
    );
  }
}

export default App;
```

여기서 `<StyledButton big={true}>` 이렇게 값을 따로 설정하지 않고 big이라고만 작성해도 의미는 big = {true}와 동일합니다.

styled-components는 많은 기능들을 제공합니다. 예를 들어 Sass에서 사용한 include-media 믹스인 처럼 함수를 따로 만들어서 편리하게 반응형 디자인을 할 수 도 있고 , Sass 에서 감싸인 구조로 스타일을 작성했던 것철머 styled-components 에서도 비슷하게 감싸인 구조로 작성할 수 있습니다.

또 현재 선택자 &도 할 수 있습니다.

# 9.4 정리

CSS Module을 사용한다면 스코프 관련 문제가 해결될 것이고, 추가로 Sass를 사용하면 더욱 확장된 CSS 문법으로 깔끔하고 편안하게 코드를 작성할 수 있습니다.

styled-components는 자바스크립트와 CSS 사이의 벽을 허물어 주기 때문에 동적 스타일링이 편리하는 장점과 한 파일에서 스타일과 자바스크립트 코드를 모두 관리 할 수 있다는 장점이 있습니다.

하지만 기존 CSS 파일을 사용한 스타일링과 사뭇 다른 흐름으로 관리한다는 단점에 협엽할때 HTML/CSS를 작성하는 디자이너가 따로 있다면 일일이 포팅해야 하기에 조금 힘들수 있습니다.

