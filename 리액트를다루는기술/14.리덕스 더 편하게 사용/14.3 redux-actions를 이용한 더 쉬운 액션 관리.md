# 14.3 redux-actions를 이용한 더 쉬운 액션 관리

redux-actions 패키지에는 리덕스 액션들을 관리할때 유용한 createAction 과 handleActions 함수가 있습니다.

```bash
yarn add redux-actions
```

이렇게 불러와 사용할 수 있습니다.

```js
import {createAction , handleActions} from 'redux-actions';
```

# 14.3.1 createAction을 이용한 액션 생성 자동화

리덕스에서 액션을 만들다 보면 모든 액션에서 일일이 액션 생성자를 만드는 것이 번거로울 수 잇습니다. 

```js
export const increment = (index) => ({
    type : types.INCREMENT,
    index
});
export const decrement = (index) => ({
    type : types.DECREMENT,
    index
})
```

파라미터로 전달받은 값을 객체 안에 넣는 것뿐입니다. createAction을 사용하면 이 작업을 다음과 같이 편하게 자동화할 수 있습니다.

```js
export const increment = createAction(types.INCREMENT);
export const decrement = createAction(types.DECREMENT);
```

createAction 함수는 액션 생성 함수를 간단하게 만들어 줍니다. 파라미터를 넣는 부분이 생략되어 있는데 이렇게 만든 함수에 파라미터를 넣어서 호출하면 다음과 같이 payload 키에 파라미터로 받은 값을 넣어 객체를 만들어 줍니다.

```js
increment(3);
/* 
    결과 :
    {
        type : "INCREMENT",
        payload : 3
    }
*/
```

전달 받을 파라미터가 여러 개일 때는 이전에 setColor 액션 생성 함수를 사용할 때 처럼 객체를 만들어서 파라미터에 넣습니다. 액션을 만들면 파라미터로 전달한 객체를 payload로 설정합니다.

```js
export const setColor = createAction(types.SET_COLOR);

setColor({index : 5, color : '#fff'});
/* 
    결과 :
    {
        type : "SET_COLOR",
        payload : {
            index : 5,
            color : '#fff'
        }
    }
*/
```

액션이 갖고 있을 수 있는 정보의 이름을 payload 값으로 통일함으로써 액션 생성 함수를 한줄짜리 코드로 작성했습니다.

createAction의 두 번째 파라미터에 payload 생성 함수를 전달하여 코드상으로 명시할 수도 있습니다.

```js
export const setColor = createAction(types.SET_COLOR , ({index,color}) => ({index,color}))
```

# 14.3.2 switch 문 대신 handleActions 사용

리듀서에 switch문을 사용하여 액션 type에 따라 다른 작업을 하도록 했습니다. 이 방식에는 아주 중요한 결점이 하나 있습니다.

바로 scope를 리듀서 함수로 설정했다는 것입니다. 그렇기 때문에 서로 다른 case에서 let이나 const를 사용하여 변수를 선언하려고 할때, 같은 이름이 중첩되면 오류를 발생합니다. 그렇다고 case마다 함수를 정의하면 코드를 읽기 힘듭니다.

이 문제를 해결하는 것이 바로 handleActions 입니다.

```js
const reducer = handleActions({
    INCREMENT : (state, action) => ({
        counter : state.counter + action.payload
    }),
    DECREMENT : (state, action) => ({
        counter : state.counter = action.payload
    })
}, {counter : 0})
```

첫 번째 파라미터로는 액션에 따라 실행할 함수들을 가진 객체를 넣어 주고, 두 번째 파라미터로는 상태의 기본 값을 넣어 줍니다.

