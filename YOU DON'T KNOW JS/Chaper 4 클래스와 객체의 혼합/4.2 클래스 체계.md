# 4.2 클래스 체계

대부분 클래시 지향 언어의 표준 라이브러리는 스택 자료 구조(푸시, 팝 등)를 Stack 클래스에 구현해놨다.

Stack 클래스 내부에는 데이터를 저장하는 변수 세트가 있고 다른 코드에서 (감춰진) 데이터와 상호 작용 (데이터 추가/삭제 등)할 수 있도록 외부에서 접근 가능한 작동 모음(메서드)를 제공한다.

하지만 Stack 클래스에서 실제로 어떤 작업을 직접 수행하는 건 아니다. Stack 클래스는 그저 모든 스택이라면 마땅히 해야 할 기능을 추상화 환것이지 그 자체가 스택은 아니다.

Stack 클래스를 인스턴스화해야 비로소 작업을 수행할 구체적인 자료 구조가 마련된다.

# 4.2.1 건축

클래스와 인스턴스 중심의 사고방식은 흔히 건축 현장에 빗대어 생각할 수 있다.

아키텍트는 건축의 모든 특성 (폭, 높이, 창문 위치와 소요량, 벽/지붕 자재 등)을 기획한다. 이때 건물을 어디에 몇 채를 지을지는 굳이 고려하지 않아도 된다.

또한 아키텍트는 건물 안 내용물 (가구나 벽지 , 시스템 에어콘 등)은 신경 쓸 필요가 없다. 단지 이러한 부품들이 배치할 전체적인 구조만 계획한다.

아키텍처 청사진은 건축을 위한 계획일 뿐, 청사진만으로 사람이 들어와서 앉고 할 건물을 만들어낼 수는 없다. 그래서 실제로 건물을 올리는 작업은 시공사에 의뢰해야 하는데, 일감을 수주받은 시공사는 정확히 청사진에 따라 건물을 짓는다.

사실 청사진을 작성한 아키텍트가 의도했던 특성 그대로 물리적인 건물을 복사하는 셈이다.

완공된 건물은 청사진의 물리적인 인스턴스다. 시공사는 이제 다음 부지로 옮겨 같은 건물을 처음부터 다시 짓는다.

건물과 청사진의 관계는 간접적이다. 건물을 어떻게 지어야 할지 청사진을 보고 자세히 검토해야 하지만 건물을 다 짓고 직접 살펴봐야 알 수 있는 부분에 대해선 부족함을 느낄 수 밖에 없다.

이를테면 현관문을 열 때의 느낌은 건물 안에 직접 들어가 보지 않은 이상 알 수 없다. 

청사진엔 그저 어디에 현관문을 달아야 할지 선으로 표시한게 전부다.

클래스가 바로 청사진에 해당한다. 개발자가 상호 작용할 실제 객체는 클래스라는 붕어빵 틀에서 구워낸다.(인스턴스화한다)

이 구워냄의 최종 결과가 인스턴스라는 객체고 개발자는 객체 메서드를 직접 호출하거나 공용 데이터 프로퍼티에 접근한다. 

객체는 클래스에 기술된 모든 특성을 그대로 가진 사본이다.

건물 청사진을 보겠다고 실제 완공된 건물 내부로 들어가 여기저기 찾아보는 사람은 없을 것이다. 

당연히 설계도는 관할 공공 기록 보관소 어딘가에 잘 소장되어 있을 것이다. 

마찬가지로 객체 인스턴스를 통해 클래스에 직접 접근하여 어떤 조작을 가할 일은 거의 없지만 적어도 어느 클래스로부터 구워진 객체 인스턴스인지 그 출처를 식별하는 일은 어렵지 않다.

객체 인스턴스와 출처(클래스) 간의 간접적인 관계보다 클래스와 객체 인스턴스의 직접적인 관계를 따져보는게 좀 더 유용하다.

클래스는 복사 과정을 거쳐 객체 형태로 인스턴스화한다.

# 4.2.2 생성자

인스턴스는 보통 클래스명과 같은 이름의 생성자라는 특별한 메서드로 생성한다. 생성자의 임무는 인스턴스에 필요한 정보를 초기화하는 일이다.

```js
class CoolGuy {
    specialTrick = nothing;
    CoolGuy(trick){
        specitalTrick = trick;
    }
    showOff(){
        output('이게 내 장기랍니다: ' , specialTrick)
    }
}
```

CoolGuy 인스턴스를 생성하려면 클래스 생성자를 호출한다.

```js
Joe = new GoolGuy('카드 마술');
Joe.showOff() // '이게 내 장기랍니다: 카드 마술'
```

CoolGuy 클래스엔 생성자 CollGuy()가 있어서 new CoolGuy()를 하면 실제로 이 생성자가 호출된다.

생성자의 반환 값은 객체 (클래스 인스턴스)이므로 showOff() 메서드를 호출하면 CoolGuy의 장기가 뭔지 알 수 있다.

생성자는 클래스에 속한 메서드로, 클래스명과 같게 명명하는 것이 일반적이다. 그리고 새로운 클래스 인스턴스를 생성할 거라는 신호를 엔진이 인지할 수 있도록 항상 new 키워드를 앞에 붙여 생성자를 호출한다.

