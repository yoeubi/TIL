# Fetch API

- 최신 브라우저 기능과 똑같이 만들어진 라이브러리를 폴리필이라고 한다. 서비스워커를 사용할 예정이라면 fetch를 사용해야한다.

- fetch의 응답 또한 Promise이다. fetch는 헤더를 받고 실행하고 바디를 받고 실행 할 수 있어서 res.json이라는 promise를 실행해야한다.

# HTTP Cache

- Cache는 데이터를 미리 복사 해놓는 임시 저장소 행위를 말한다. 

- 304 코드는 브라우저에서 저장된 , 캐쉬에 저장된 것을 불러온 것이다.

- Cache를 사용할때 원본과 사본이 다를 수 있는 문제가 발생 할 수 있다. 유효기간을 설정하거나 사용할때마다 서버에 물어볼 수 있다.
 
- 2가지 방식으로 해결 할 수 있다. 첫 번쨰는 만료기간이 정해진 시간동안만 유효하게 만든다. 두 번쨰는 캐쉬를 사용할때마사 서버에 요청을 보내서 확인한다.

# cache-control 헤더

- 유효기간이 없는 만료기한을 만들때 사용한다.

# ETag 헤더

- 캐쉬 검증에 사용된다. 검증 방식은 자원에 대한 식별자를 만든다. 식별자를 브라우저 보낼때 같이 보낸다.

- 브라우저는 캐쉬 저장소에 자료와 자료의 식별자를 기억하고 있다가 식별자를 서버에 보내서 확인한다.

- 파일이 바뀌면 식별자를 바꿔야한다. 전체 자원을 전송하지 않고 자원이 바뀌었는지 확인 할 수 있다.

- 해쉬는 2자기 특징을 가지고 있는 연산이다. 1. 같은 입력을 주면 항상 같은 출력이 나온다. 2. 입력이 조금이라도 달라지면 완전히 다른 출력이 나온다.

- 해쉬값만 주고 받아서 자원이 변경되엇는지를 알 수 있다.

# expires 헤더

- 만료시각을 서버에 저장한다.

# if-none-match

- ETag 와 같이 쓰인다. 검증에 사용되는 요청헤더이다. 이전에 저장된 ETag 값을 if-none-match에 담아서 보내면 서버는 해당 경로에 있는 자원의 ETag와 비교한다.

- 바뀌었는지 물어볼때 if-none-match : abc라고 보내면 서버에서 해쉬값을 비교해서 바뀌지 않으면 304를 보낸다. 그리고 바디에 자원을 포함시키지 않는다.

- 만약 자원이 바뀌면 자원의 해쉬가 : efc라면 브라우저가 abc라고 보냈을때 다르면 200을 보내고 바디에 바뀐 자원을 포함시켜서 보낸다.

- ETag와 비슷한것은 L
이 두가지를 비슷한 것이 있다.

# Last-modified

- ETag와 비슷한것이다. 자료의 마지막 수정시간이다. 자료가 수정된 시각을 응답에 포함시켜서 보내는 것이다.

- if-modified-since에 담아서 보낸다 바뀌지 않으면 304 코드를 보내고 바뀌면 200에 자원을 담아 보낸다.

# 브라우저 캐쉬 지우는 법

- ctr + shif + r 

# Cache

- 캐쉬라는 것은 자원을 불러오는 속도를 높이기 위해 사용하는 것이다.

- post는 특정 조건에만 cacheable이 가능하다. 

- express, netlify 등에는 캐쉬 기능이 내장되어 있어서 그냥 쓰기만 하면 된다.

- 캐쉬는 브라우저만 저장되는게 아니다.

# GraphQL

```
GET /todos
POST /todos 
```

- 위와 같은 형태를 REST API라고 한다.

- REST API의 단점이 있는데 각각의 자원마다 경로가 따로 있는데 자원의 일부가 필요하더라고 전체 속성을 가져와야 한다.

- graphQL은 클라이언트에서 필요한 데이터의 구조를 던지면 동일한 구조가 응답으로 온다.

# template

- template 태그 안에 있는 내용은 표시되지 않고 작동도 안한다. 

# 브라우저에서 요청이 2번가는 이유

- CORS 때문에 제대로 된것인지를 2번 보내기 때문이다.

# git bash 에서 이름 변경

- mv [기존명] [바꿀명]