# 05-1 재귀의 기본

## 재귀란?

어떤 사건이 자기 자신을 포함하고 다시 자기 자신을 사용하여 정의될때 재귀적(recursive)이라고 합니다.

## 팩토리얼 구하기

음이 아닌 정수의 팩토리얼(factorial)을 구하는 프로그램입니다. 음이 아닌 정수 n의 팩토리얼 (n!)은 아래처럼 재귀적으로 정의 할 수 있습니다.

1. 0! = 1;
1. n > 0 이면 n! = n x (n - 1)!

예컨데 10의 팩토리얼인 10!은 10 x 9!로 구할 수 있고 그 우변에서 사용되는 식 9!는 9 x 8!로 구할 수 있습니다.

```java
class Factorial {
    static int factorial(int n) {
        if (n > 0) {
            return n * factorial(n - 1);
        } else {
            return 1;
        }
    }

    public static void main(String[] args) {
        Scanner stdIn = new Scanner(System.in);

        System.out.print("정수를 입력하세요 : ");
        int x = stdIn.nextInt();

        System.out.println(x + "의 팩토리얼은" + factorial(x) + "입니다");
    }
}
```

factorial 메서드는 매개변수 n에 전달받은 값이 0보다 크면 n \* factorial(n - 1)을 반환하고, 그렇지 않으면 1을 반환합니다.

### 재귀 호출

1. 메서드 호출식 factorial(3)을 실행하면 factorial메서드가 시작됩니다. 이 메서드는 매개변수 n에 3을 전달받아 3 \* factorial(2)를 반환합니다. 그런데 곱셈을 수행하려면 factorial(2)의 값을 구해야 합니다. 2를 다시 매개변수로 전달하고 factorial 메서드를 호출합니다.
1. 호출된 factorial 메서드는 매개변수 n에 2를 전달받습니다. 다시 곱셈 \* factorial(1)을 수행하기 위해 factorial 메서드를 호출합니다.
1. 다시 호출된 factorial 메서드는 매개변수 n에 1을 전달받습니다. 1 \* factorial(0)을 수행하기 위해 factorial 메서드를 호출합니다.
1. 호출된 factorial 메서드는 매개변수 n에 전달받은 값 0이므로 1을 반환합니다.
1. 반환된 값 1을 전달받은 factorial 메서드는 1 \* factorial(0)(1 \* 1)을 반환합니다.
1. 반환된 값 1을 전달받은 factorial 메서드는 2 \* factorial(1)(2 \* 1)을 반환합니다.
1. 반환된 값 2를 전달받은 factorial 메서드는 3 \* factorial(2)(3 \* 2)를 반환합니다.

이러한 메서드 호출 방식을 재귀 호출이라고 합니다.

### 직접 재귀와 간접 재귀

factorial 메서드 내부에서 factorial 메서드를 호출합니다. 이처럼 자신과 같은 메서드를 호출하면 직접 재귀입니다.

간접 재귀는 메서드 a가 메서드 b를 호출하고, 다시 메서드 b가 메서드 a를 호출하는 구조로 이루어집니다.

## 유클리드 호제법

두 정수의 최대공약수를 재귀적으로 구하는 방법을 알아보겠습니다.

두 정수를 직사각형의 두 변의 길이라고 생각하면 두 정수의 최대 공약수를 구하는 문제는 다음 문제처럼 바꿀 수 있습니다.

> 직사각형을 정사각형으로 완전히 채웁니다. 이렇게 만들 수 있는 정사각형의 가장 긴 변을 구하세요.

1. 22 x 8 크기의 직사각형에서 짧은 변(8)을 한 변으로 하는 정사각형으로 분할합니다. 이렇게 하면 8 x 8 크기의 정사각형 타일 2장이 생깁니다. 그리고 8 x 6 크기의 직사각형이 1개 남습니다.
1. 남은 8 x 6 크기의 직사각형으로 다시 같은 과정을 수행합니다. 6 x 6 크기의 정사각형 1개, 6 x 2 크기의 직사각형이 1개 남습니다.
1. 다시 남은 6 x 2 크기의 직사각형으로 같은 과정을 수행합니다. 이번에는 2 x 2 크기의 정사각형 3개로 나눌 수 있습니다. 여기서 얻은 2가 최대공약수입니다.

이렇게 두 정수가 주어질 경우 큰 값을 작은 값으로 나누었을때 나누어 떨어지는 가장 작은 값이 최대공약수입니다. 나누어지지 않으면 작은 값(얻은 나머지)에 대해 나누어떨어질떄까지 같은 과정을 재귀적으로 반복합니다.

이 과정을 좀 더 수학적으로 표현하기 위해 두 정수 x,y의 최대공약수를 gcd(x,y)로 표기하겠습니다. x = az 와 y = bz를 만족하는 정수 a,b와 최대의 정수 z가 존재할때 z를 gcd(x,y)라고 할 수 있습니다. 다시 말해 최대공약수는 y가 0이면 x이고, y가 0이 아니면 gcd(y, x % y)로 구합니다.

이 알고리즘을 유클리드 호제법이라고 합니다.

```java
class EuclidGCD {
    static int gcd(int x, int y) {
        if (y == 0) {
            return x;
        } else {
            return gcd(y, x % y);
        }
    }

    public static void main(String[] args) {
        Scanner stdIn = new Scanner(System.in);

        System.out.println("두 정수의 최대공약수를 구합니다");

        System.out.print("정수를 입력하세요 : ");
        int x = stdIn.nextInt();
        System.out.print("정수를 입력하세요 : ");
        int y = stdIn.nextInt();

        System.out.println("최대공약수는 " + gcd(x,y) + "입니다.");
    }
}
```
