# http 모듈 , localhost , 포트

```js
const http = require('http');

http.createServer( (req,res) => {
    console.log('서버 실행');
    res.write('<h1>Hello Node</h1>');
    res.write('<h2>Hello JS</h2>');
    res.write('<h2>Hello JS</h2>');
    res.write('<h2>Hello JS</h2>');
    res.write('<h2>Hello JS</h2>');
    res.end('<p>Hello Server</p>');
}).listen(8080, () => {
    console.log('8080번 포트에서 서버 대기중입니다.')
})
```

- http 모듈이 서버프로그램으로 만들어준다. 노드는 런타임 인데 http모듈이 서버 역활을 하는 것 노드는 그 프로그램을 실행하는 것이다.

- `createServer` 방문이라는 이벤트가 기본적으로 설정되어 있어서 이벤트 명은 안적어도 되고 콜백 함수만 적어도 된다.

- 추가적으로 포트 번호를 적어야한다. 실행이 됐을때 어떤 메세지가 보여질지 문자로 나타낼수 있다. 

- `http 기본 포트(80) https (443) 기본 포트는 생략 가능` 

- http 은 80이 , https는 뒤에 443이 숨겨져 있다. 

- `포트가 다르면 호스트가 같더라도 다른 사이트처럼 동작할 수 있습니다.`

- 하나의 도메인에 포트번호만 바꿔도 무수한 페이지로 바꿀수 있다. 

- 프로그래밍할때 8080을 많이 쓴다. 기본포트가 80번인데 실제 배포 일때 쓴다. 그래서 80을 두번 쓴거 일 수도 있다.

- `1024 아래 포트는 다른 프로그램이 사용 중일 확률이 높아요. 또 리눅스나 맥에서는 관리자 권한이 필요해요.`

- 다른거 써도 되는데 그 외의 포트번호를 쓸라면 뒤에 포트를 붙여야한다. 

- `다른 프로그램이 이미 사용하고 있는 포트를 쓰면 에러가 발생해요.`

- `req` , `res` 요청 과 응답이다 . 방문 요청을 하면 방문 요청을 허용할 필요가 없고 쫒아낼수 도 있다. 요청 자체는 오지만 거절 할수 있다. 

- 요청자가 누군지 알아야한다. 그게 `req`에 담긴다. `res`는 내가 응답할 정보를 담아서 보낼 수 있다.

- `요청이 왔을 때 꼭 수락해야 하는 것은 아니고, 거절할 수도 있습니다.`

- 나중에 올바른 요청인지를 `req`에서 통해 검사하고 `res`로 결과를 보내고 이상한거면 `res`로 거절 할 수 도 있다. 

- 페이지가 뜬다는 것은 `write`에 html을 적어서 보내는 것이다.

- `res`객체에 `write` 가 한줄씩 적어서 보내는 것이며 `end`는 `write`하면서 동시에 `wirte` 할게 없다고 브라우저에게 알려주는 것이다.

- `end`가 따로 있는 이유는 `write`는 여러번 쓸수 있다. `end`로 항상 응답이 끝났다고 알려주는 것이다.

- 실행 시키면 `listen`이 시작한것이다 포트에 연결이 된것이다. 서버를 실행하고 나서 대기중이라고 뜨는 것. 

- 서버를 실행하니까 계속 실행중이다 `listen`이 서버를 죽지않고 실행하게 유지시켜준다. 

- 로컬호스트가 도메인 , 호스트이다 8080이 포트이다. 다른 포트로 하면 아무것도 안 뜬다. 

- 로컬 호스트는 제컴퓨터에서만 돌아가는 호스트라고 생각하면 된다. 개발용이다.

