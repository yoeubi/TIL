# 이벤트 기반 , 싱글 쓰레드 , 논 블러킹 IO 

- 이벤트 루프를 알아야 이벤트 기반 , 싱글 쓰레드 , 논 블로킹 IO를 알 수 있다.
- 이벤트 기반 또는 이벤트 드리븐이라고 한다.
- 어떻게 하면 노드가 서버의 역활을 할 수 있는가? 실제 서버는 프로그램이 종료되지 않게 하는 코드가 필요하다.
- 어떻게 해야 서버가 동작 할 수 있다.
- 서버는 요청을 받아서 응답을 하는게 서버이다. 누가 요청을 보내는 주체를 클라이언트라고 한다 서버는 클라이언트에게 응답을 한다.
- 만약 서버가 서버에게 요청을 하면 서버가 클라이언트가 될 수 있다.
- 서버컴퓨터의 역활에 따라 클라이언트가 될 수 있다. 요청을 보내면 응답을 받는다라고 생각하면 된다.
- 요청의 특징은 언제 올지 모른다. 만약 블로그에 접속해야지 요청이 온다. 언제 요청이 올지 몰라서 계속 기다릭 ㅗ있다 
- 그냥 아무코드 없이 기다릴수 없다 이때 이벤트 리스너를 쓴다. 
- 만약 방문 이라는 이벤트가 있다면 html을 주는 
- 주소를 치는게 요청이다. 서버에서 html을 받아온다 브라우저가 그것을 받아서 파싱해서 보여주는 것이다.
- 응답으로 html을 받는것이다. 모든 서버는 하나의 이벤트를 꼭 가지고 있다 요청을 받고 응답하는 이벤트를 가지고 있다.
- 이러한 이벤트 리스너가 모아져 있는 것을 실행한다. 모든게 아무것도 없는 상황에서 서버를 방문하면 이벤트 리스너가 작동하면서 이벤트 리스너 함수를 테스크 큐에 들어간다. 만약 2명이 방문하면 2개가 들어간다. 한명은 댓글까지 한다면 댓글까지 테스크큐에 들어간다. 
- 이벤트 루프의 역활은 우선순위를 파악해서 호출스택을 끌고가서 실행시키는 것이다. 하나 씩 실행하고 끝난다 . 
- 누군가 방문하면 콜백함수를 테스크큐로 옮기고 이벤트 루프를 호출 스택으로 옮긴다. 이런 것을 이벤트 드리븐이라고 한다.

## 논 블로킹 IO

- run settimeout 같이 호출스택에 쌓이는게 아니라 run을 테스크큐로 보내면서 호출 스택의 실행순서가 달라지고 테스크로 보내는 동작을 논블로킹이라고 한다.
- 논 블로킹은 테스크큐로 보내는 동작을 말한다. 논블로킹은 순서가 다르면 논블로킹이라고 생각해도된다.
- IO는 인풋 아웃풋인데 크게 2가지 파일 시스템 네트워크 가 있다. 파일 시스템은 파일 쓰고 저장하고 읽고 를 말한다 .네트워크는 요청하고 받는것 이런것들은 자제적으로 논블로킹
- 파일 시스템은 알아서 멀티스레드로 돌린다. 

- 싱글쓰레드는 팔의 개수라고 생각하면 된다. 한개씩밖에 못한다.
- 자바스크립트는 한번에 한가지 밖에 못한다. 그래서 블로킹 이 발생한다. 그걸 극복하기 위해 논블로킹으로 바꾼것이다.
- 파일 시스템은 알아서 동시에 작업할수 있게 만들어준다. 멀티쓰레드로 
- 네트워크는 논블로킹 으로 한다.
- 콜백함수는 무조건 테스크큐에 들어가는가? 함수에서 바로 즉시 실행해서 호출스택에 머무를수 있다. 이벤트 리스너에 달린 콜백함수들이 이벤트가 실행될때 테스크큐로 들어간다.
- 멀티쓰레드는 팔이 여러개 인데 멀티쓰레드를 안하는 이유는 어렵다. 제어권때문이다.
- 노드가 싱글쓰레드 인데 그걸 극복할려고 한게 있다. 쓰레드보다 큰 프로세스를 여러개 만들어서 멀티 프로세싱하는 것이다 방법중 하나이다.